<li class="media list-group-item p-a post-modal" data-toggle="modal" data-target="#modal<%= post.id %>">
  <a class="media-left" href="#">
    <img
      class="media-object img-circle"
      src="<%= post.poster.profile_picture_url %>">
  </a>
  <div class="media-body">
    <div class="media-body-text">
      <div class="media-heading">
        <small class="pull-right text-muted">• <%= time_ago_in_words post.created_at %></small>
        <h5><%= link_to post.poster.name, post.poster %></h5>
      </div>
      <p>
        <%= post.content %>
      </p>
    </div>
  </div>
</li>




<!-- Modal -->
<!-- TODO: Make this more efficient by having a single modal -->
<!-- TODO: Cleanup the mess of code -->
<div class="modal fade" id="modal<%= post.id %>" tabindex="-1" role="dialog" aria-labelledby="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">





      <div class="modal-textpost">
          <a class="media-left" href="#">
            <img
              class="media-object img-circle"
              src="<%= post.poster.profile_picture_url %>">
          </a>
          <div class="media-body">
            <div class="media-body-text">
              <div class="media-heading">
                <small class="pull-right text-muted">• <%= time_ago_in_words post.created_at %></small>
                <h5><%= link_to post.poster.name, post.poster %></h5>
              </div>
              <p>
                <%= post.content %>
              </p>
            </div>
          </div>
      </div>


      
      <%= render :partial => 'posts/comment_form', :locals => { :post => post} %>
      <div id="comments<%= post.id %>">
        <!-- Comments -->
        <%= render :partial => 'posts/comments', :locals => { :post => post} %>
      </div>
    </div>
  </div>
</div>
